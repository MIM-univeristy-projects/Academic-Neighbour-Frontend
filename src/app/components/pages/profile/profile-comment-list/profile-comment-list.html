<div class="space-y-4">
    @for (comment of comments(); track comment.id; let index = $index) {
    <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
        <div class="flex gap-3">
            <!-- Avatar -->
            <button (click)="navigateToProfile(comment.author_id)"
                [class]="'w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold shrink-0 hover:scale-110 transition-transform cursor-pointer ' + getGradientClass(index)">
                {{ getInitials(comment.author_name) }}
            </button>

            <!-- Comment Content -->
            <div class="flex-1 min-w-0">
                <!-- Header -->
                <div class="flex items-start justify-between gap-2 mb-1">
                    <div class="flex-1 min-w-0">
                        <button (click)="navigateToProfile(comment.author_id)"
                            class="font-semibold text-gray-900 hover:underline">{{ comment.author_name }}</button>
                        <span class="text-gray-400 text-sm ml-2">{{ getRelativeTime(comment.created_at) }}</span>
                    </div>
                </div>

                <!-- Comment Text -->
                <p class="text-gray-700 whitespace-pre-wrap wrap-break-word">{{ comment.content }}</p>
            </div>
        </div>
    </div>
    }
</div>